<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>文章管理</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .management-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .table-actions {
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <div class="container management-container">
        <!-- 导航 -->
        <nav class="my-4">
            <a href="/" class="btn btn-outline-secondary">← 返回首页</a>
        </nav>

        <!-- 页面标题和操作 -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>文章管理</h2>
            <a href="/article/edit" class="btn btn-primary">+ 发布新文章</a>
        </div>

        <!-- 文章列表表格 -->
        <div class="card">
            <div class="card-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>标题</th>
                            <th>发布时间</th>
                            <th>最后更新</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="article : ${articles}">
                            <td th:text="${article.id}">1</td>
                            <td>
                                <a th:href="@{/article/{id}(id=${article.id})}" 
                                   th:text="${article.title}">文章标题</a>
                            </td>
                            <td th:text="${#dates.format(article.createdTime, 'yyyy-MM-dd HH:mm')}">2025-01-01 10:00</td>
                            <td th:text="${article.updatedTime != null} ? 
                                        ${#dates.format(article.updatedTime, 'yyyy-MM-dd HH:mm')} : 
                                        '--'">2025-01-01 10:00</td>
                            <td class="table-actions">
                                <a th:href="@{/article/edit/{id}(id=${article.id})}" 
                                   class="btn btn-sm btn-outline-primary">编辑</a>
                                <a th:href="@{/article/delete/{id}(id=${article.id})}" 
                                   class="btn btn-sm btn-outline-danger" 
                                   onclick="return confirm('确定要删除这篇文章吗？此操作不可撤销！')">删除</a>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- 空状态提示 -->
                <div th:if="${articles.isEmpty()}" class="text-center py-5">
                    <h4>还没有文章</h4>
                    <p class="text-muted">赶快发布你的第一篇文章吧！</p>
                    <a href="/article/edit" class="btn btn-primary">发布第一篇文章</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="blog-footer text-center py-4 mt-5">
        <p>我的博客 &copy; 2025</p>
    </footer>
</body>
</html>